setwd("D:\git repo\datasciencecoursera\Exploratory Data Analysis\project 2")
setwd("D:\\git repo\\datasciencecoursera\\Exploratory Data Analysis\\project 2")
source('D:/git repo/datasciencecoursera/Exploratory Data Analysis/project 2/plot1.R')
View(NEI)
View(SCC)
View(NEI)
EmiPerYear <- aggregate(NEI$Emissions, by = list(year = NEI$year), sum)
View(EmiPerYear)
hist(EmiPerYear)
hist(EmiPerYear$x)
plot(EmiPerYear$year, EmiPerYear$x)
plot(EmiPerYear$year, EmiPerYear$x, xlab = "year", ylab = "Emissions (in tons)")
title(main = "The total PM2.5 emission in U.S. per year")
png(file = "plot1.png")
plot(EmiPerYear$year, EmiPerYear$x, xlab = "year", ylab = "Emissions (in tons)")
title(main = "The total PM2.5 emission in U.S. per year")
dev.off()
NEIBal <- subset(NEI, NEI$fips == "24510", select = c(Emissions, year))
View(NEIBal)
EmiPerYear <- aggregate(NEIBal$Emissions, by = list(year = NEIBal$year), sum)
View(EmiPerYear)
png(file = "plot2.png")
plot(EmiPerYear$year, EmiPerYear$x, xlab = "year", ylab = "Emissions (in tons)")
title(main = "The total PM2.5 emission in Baltimore City per year")
dev.off()
NEIBal <- subset(NEI, NEI$fips == "24510", select = c(Emissions, year, type))
View(NEIBal)
EmiPerYear <- aggregate(NEIBal$Emissions, by = list(year = NEIBal$year, type = NEIBal$type), sum)
View(EmiPerYear)
ggplot(EmiPerYear)
import(ggplot2)
library(ggplot2)
install.packages(ggplot2)
install.packages(ggplot)
install.packages("ggplot2")
install.packages("ggplot2")
library(ggplot2)
ggplot(EmiPerYear)
qplot(x, data = EmiPerYear, color = type)
qplot(x, data = EmiPerYear, geom	=	"density", color = type)
qplot(year, x, data = EmiPerYear, geom	=	"density", color = type)
qplot(x = year,y = x, data = EmiPerYear, geom	=	"density", color = type)
qplot(x = year,y = x, data = EmiPerYear, color = type)
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, colour=type))
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, colour=type)) + labs(title = "emissions from 1999–2008 for Baltimore City in four type")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, colour=type)) + labs(title = "Emissions from 1999–2008 for Baltimore City in four type")
+ labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, colour=type)) + labs(title = "Emissions from 1999–2008 for Baltimore City in four type") + labs(x = "year") + labs(y = "Emissions (in tons)")
png(file = "plot3.png")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, colour=type)) + labs(title = "Emissions from 1999–2008 for Baltimore City in four type") + labs(x = "year") + labs(y = "Emissions (in tons)")
dev.off()
View(SCC)
names(NEI)
CodeSSC <- SCC[grep("Fuel Comb*Coal",SCC$EI.Sector,value = F),SCC$SCC]
CodeSSC <- SCC[grep("Fuel Comb*Coal",SCC$EI.Sector,value = F)]
View(CodeSSC)
CodeSSC <- SCC[grep("Fuel Comb*Coal",SCC$EI.Sector,value = F),]
View(CodeSSC)
grep("Fuel Comb*Coal",SCC$EI.Sector,value = F)
grep("Fuel Comb",SCC$EI.Sector,value = F)
grep("Fuel Comb",SCC$EI.Sector)
grep("Fuel Comb",SCC$EI.Sector,value = T)
grep("Fuel Comb.*Coal",SCC$EI.Sector,value = T)
CodeSSC <- SCC[grep("Fuel Comb.*Coal",SCC$EI.Sector,value = F),]
CodeSSC <- SCC[grep("Fuel Comb.*Coal",SCC$EI.Sector,value = F),SCC$SCC]
CodeSSC <- SCC[grep("Fuel Comb.*Coal",SCC$EI.Sector,value = F),]
View(CodeSSC)
CodeSSC <- CodeSSC[,SSC]
CodeSSC <- CodeSSC[,CodeSSC$SSC]
View(CodeSSC)
CodeSSC <- SCC[grep("Fuel Comb.*Coal",SCC$EI.Sector,value = F),]
View(CodeSSC)
CodeSCC <- SCC[grep("Fuel Comb.*Coal",SCC$EI.Sector,value = F),]
CodeSCC <- CodeSCC[,CodeSSC$SCC]
View(CodeSCC)
CodeSCC <- SCC[grep("Fuel Comb.*Coal",SCC$EI.Sector,value = F),]
CodeSCC <- CodeSCC[,CodeSCC$SCC]
View(CodeSCC)
CodeSCC <- SCC[grep("Fuel Comb.*Coal",SCC$EI.Sector,value = F),]
CodeSCC <- CodeSCC[,SCC]
CodeSCC <- CodeSCC$SCC
CodeSCC
temp <- as.vector(CodeSCC)
temp
CodeSCC <- as.vector(CodeSCC)
NEIBal <- subset(NEI, NEI$SCC %in% CodeSCC, select = c(Emissions, year))
View(NEIBal)
EmiPerYear <- aggregate(NEIBal$Emissions, by = list(year = NEIBal$year), sum)
View(EmiPerYear)
NEICoal <- subset(NEI, NEI$SCC %in% CodeSCC, select = c(Emissions, year))
EmiPerYear <- aggregate(NEICoal$Emissions, by = list(year = NEICoal$year), sum)
png(file = "plot4.png")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x)) + labs(title = "Emissions from 1999–2008 for U.S. about coal combustion") + labs(x = "year") + labs(y = "Emissions (in tons)")
dev.off()
View(SCC)
CodeSCC <- SCC[grep("Mobile.*Vehicles",SCC$EI.Sector,value = F),]
CodeSCC <- CodeSCC$SCC
CodeSCC <- as.vector(CodeSCC)
NEIVeh <- subset(NEI, (NEI$SCC %in% CodeSCC) && (NEI$fips == "24510"), select = c(Emissions, year))
EmiPerYear <- aggregate(NEIVeh$Emissions, by = list(year = NEIVeh$year), sum)
NEIVeh <- subset(NEI, (NEI$SCC %in% CodeSCC) && (NEI$fips == "24510"), select = c(Emissions, year))
NEIVeh <- subset(NEI, (NEI$SCC %in% CodeSCC) & (NEI$fips == "24510"), select = c(Emissions, year))
NEIVeh <- subset(NEI, (NEI$SCC %in% CodeSCC) & (NEI$fips == "24510"), select = c(Emissions, year))
CodeSCC <- SCC[grep("Mobile.*Vehicles",SCC$EI.Sector,value = F),]
CodeSCC <- CodeSCC$SCC
CodeSCC <- as.vector(CodeSCC)
NEIVeh <- subset(NEI, (NEI$SCC %in% CodeSCC) & (NEI$fips == "24510"), select = c(Emissions, year))
View(NEIVeh)
EmiPerYear <- aggregate(NEIVeh$Emissions, by = list(year = NEIVeh$year), sum)
png(file = "plot5.png")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x)) + labs(title = "Emissions from 1999–2008 for Baltimore City about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
dev.off()
NEIVeh <- subset(NEI, (NEI$SCC %in% CodeSCC) & (NEI$fips %in% c("06037", "24510")), select = c(Emissions, year))
NEIVeh <- subset(NEI, (NEI$SCC %in% CodeSCC) & (NEI$fips %in% c("06037", "24510")), select = c(Emissions, year, fips))
EmiPerYear <- aggregate(NEIVeh$Emissions, by = list(year = NEIVeh$year, city = NEIVeh$fips), sum)
png(file = "plot6.png")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
dev.off()
View(EmiPerYear)
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, panel = EmiPerYear$city)) + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + facet_wrap(aes(x=year, y=x, color = EmiPerYear$city), nrow = 2, ~ EmiPerYear$city) + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + facet_grid(. ~ city) + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + facet_grid(. ~ city, scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + facet_grid(. ~ city, scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x)) + facet_grid(. ~ city, scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
, color = EmiPerYear$city
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + facet_grid(. ~ city, scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + facet_grid(city ~ ., scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + facet_grid(city ~ ., space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
, scales = "free"
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + facet_grid(city ~ ., scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + facet_grid(city ~ ., scales = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + facet_grid(city ~ ., scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
png(file = "plot6.png")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + facet_grid(city ~ ., scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
dev.off()
EmiPerYear <- aggregate(NEIVeh$Emissions, by = list(year = NEIVeh$year, fips = NEIVeh$fips), sum)
EmiPerYear[fips=="06037"]$city <- "Los Angeles County"
EmiPerYear[EmiPerYear$fips=="06037"]$city <- "Los Angeles County"
EmiPerYear[EmiPerYear$fips=="06037",]$city <- "Los Angeles County"
View(EmiPerYear)
EmiPerYear <- aggregate(NEIVeh$Emissions, by = list(year = NEIVeh$year, fips = NEIVeh$fips), sum)
EmiPerYear$city <- c("","","","","","","","")
View(EmiPerYear)
EmiPerYear <- aggregate(NEIVeh$Emissions, by = list(year = NEIVeh$year, fips = NEIVeh$fips), sum)
f <- function(x){
if (x == "06037")
temp <- "Los Angeles County"
else
temp <- "Baltimore City"
temp
}
EmiPerYear$city <- apply(EmiPerYear$fips, f)
EmiPerYear$city <- lapply(EmiPerYear$fips, f)
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + facet_grid(city ~ ., scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + facet_grid(city ~ ., scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
View(EmiPerYear)
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + facet_grid(fips ~ ., scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$fips)) + facet_grid(fips ~ ., scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
str(EmiPerYear)
EmiPerYear$city <- as.vector(lapply(EmiPerYear$fips, f))
str(EmiPerYear)
EmiPerYear$city <- apply(EmiPerYear$fips, 1, f)
EmiPerYear$city <- lapply(EmiPerYear$fips, f)
str(EmiPerYear)
str(EmiPerYear$city)
rapply(EmiPerYear$city,c)
EmiPerYear$city <- rapply(EmiPerYear$city,c)
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = EmiPerYear$city)) + facet_grid(city ~ ., scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = city)) + facet_grid(city ~ ., scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
png(file = "plot6.png")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = city)) + facet_grid(city ~ ., scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore and Los Angeles County about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
dev.off()
png(file = "plot6.png")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = city)) + facet_grid(city ~ ., scales = "free", space = "free") + labs(title = "Emissions from 1999–2008 for Baltimore & Los Angeles about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
dev.off()
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = city)) + facet_grid(city ~ ., scales = "free", space = "free") + labs(title = "Emissions in Baltimore & Los Angeles about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
png(file = "plot6.png")
ggplot(data = EmiPerYear) + geom_line(aes(x=year, y=x, color = city)) + facet_grid(city ~ ., scales = "free", space = "free") + labs(title = "Emissions in Baltimore & Los Angeles about motor vehicle") + labs(x = "year") + labs(y = "Emissions (in tons)")
dev.off()
